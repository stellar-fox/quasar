<source>
    @type forward
</source>

<source>
    @type debug_agent
    bind 127.0.0.1
    port 24230
</source>

<source>
    @type monitor_agent
    bind 0.0.0.0
    port 24220
</source>

<match **fox_stellar_core_horizon>
    @type copy
    <store>
        @type file
        @log_level debug
        path /var/log/fox_stellar_core_horizon
    </store>
    <store>
        @type influxdb
        @log_level debug
        host 127.0.0.1
        port 8086
        dbname logs_collector
        use_ssl false
        verify_ssl false
        measurement fox_stellar_core_horizon
        tag_keys ["container_name", "container_id"]
        time_key timestamp
        time_precision ms
    </store>
</match>

<match **fox_pgadmin>
    @type copy
    <store>
        @type file
        @log_level debug
        path /var/log/fox_pgadmin
    </store>
    <store>
        @type influxdb
        @log_level debug
        host 127.0.0.1
        port 8086
        dbname logs_collector
        use_ssl false
        verify_ssl false
        measurement fox_pgadmin
        tag_keys ["container_name", "container_id"]
        time_key timestamp
        time_precision ms
    </store>
</match>

<match **fox_deneb>
    @type copy
    <store>
        @type file
        @log_level debug
        path /var/log/fox_deneb
    </store>
    <store>
        @type influxdb
        @log_level debug
        host 127.0.0.1
        port 8086
        dbname logs_collector
        use_ssl false
        verify_ssl false
        measurement fox_deneb
        tag_keys ["container_name", "container_id"]
        time_key timestamp
        time_precision ms
    </store>
</match>

<match **fox_deneb_db>
    @type copy
    <store>
        @type file
        @log_level debug
        path /var/log/fox_deneb_db
    </store>
    <store>
        @type influxdb
        @log_level debug
        host 127.0.0.1
        port 8086
        dbname logs_collector
        use_ssl false
        verify_ssl false
        measurement fox_deneb_db
        tag_keys ["container_name", "container_id"]
        time_key timestamp
        time_precision ms
    </store>
</match>

